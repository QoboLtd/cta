/*! Inbound Analyticsv1.0.0 | (c) 2014 Inbound Now | https://github.com/inboundnow/cta */
function raw_js_trigger(e){e.detail;alert("Pure Javascript inbound_form_before_submission action fire")}function alert_form_data(){alert("inbound inbound_form_before_submission action fire")}function DOIT(){alert("DO IT")}function setGlobalLeadVar(e){InboundLeadData=e}function action_a(){window.actionValue+="a",console.log("page view action")}function action_b(){window.actionValue+="b"}function action_c(){window.actionValue+="c"}function URL_Param_Function(e){e=_inbound.apply_filters("urlParamFilter",e);for(var t in e)var n=t,o=e[t];"true"===e.test&&alert("url param true is true")}function URL_Param_Filter(e){var t=e||{};return"undefined"!==t.utm_source,delete t.utm_source,t}var inbound_data=inbound_data||{},_inboundOptions=_inboundOptions||{},_gaq=_gaq||[],_inboundOptions={test:!0};if("undefined"==typeof wplft)var url=JSON.stringify(window.location.origin),wplft={post_id:"4",ip_address:"67.169.95.68",wp_lead_data:{lead_id:null,lead_email:"sondersbob@yahoo.com",lead_uid:"8SpCl1HIZihblvoJSsXrXKmTKTOLr3CI8cu"},admin_url:url,track_time:"2014/11/05 3:40:56",post_type:"page",page_tracking:"off",search_tracking:"on",comment_tracking:"on",custom_mapping:[]};var _inbound=function(e){var t={debugMode:!1,timeout:3e4,formAutoTracking:!0,formAutoPopulation:!0},n={init:function(){_inbound.Utils.init(),_inbound.PageTracking.StorePageView(),_inbound.Events.loadEvents(o)},DomLoaded:function(){_inbound.Forms.init(),_inbound.Utils.setUrlParams(),setTimeout(function(){_inbound.Forms.init()},2e3)},extend:function(e,t){var n,o={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},debug:function(e,t){if(o.debugMode&&console){var e=e||!1;e&&"string"==typeof e&&console.log(e),t&&t instanceof Function&&t()}}},o=n.extend(t,e);return n.Settings=o||{},n}(_inboundOptions),_inboundHooks=function(e){var t=function(){function e(e,t,n,o){return"string"==typeof e&&"function"==typeof t&&(n=parseInt(n||10,10),l("actions",e,t,n,o)),d}function t(){var e=Array.prototype.slice.call(arguments),t=e.shift();return"string"==typeof t&&u("actions",t,e),d}function n(e,t){return"string"==typeof e&&r("actions",e,t),d}function o(e,t,n){return"string"==typeof e&&"function"==typeof t&&(console.log("add filter",e),n=parseInt(n||10,10),l("filters",e,t,n)),d}function i(){var e=Array.prototype.slice.call(arguments),t=e.shift();return"string"==typeof t?u("filters",t,e):d}function a(e,t){return"string"==typeof e&&r("filters",e,t),d}function r(e,t,n,o){if(c[e][t])if(n){var i,a=c[e][t];if(o)for(i=a.length;i--;){var r=a[i];r.callback===n&&r.context===o&&a.splice(i,1)}else for(i=a.length;i--;)a[i].callback===n&&a.splice(i,1)}else c[e][t]=[]}function l(e,t,n,o,i){var a={callback:n,priority:o,context:i},r=c[e][t];r?(r.push(a),r=s(r)):r=[a],c[e][t]=r}function s(e){for(var t,n,o,i=1,a=e.length;a>i;i++){for(t=e[i],n=i;(o=e[n-1])&&o.priority>t.priority;)e[n]=e[n-1],--n;e[n]=t}return e}function u(e,t,n){var o=c[e][t];if(!o)return"filters"===e?n[0]:!1;var i=0,a=o.length;if("filters"===e)for(;a>i;i++)n[0]=o[i].callback.apply(o[i].context,n);else for(;a>i;i++)o[i].callback.apply(o[i].context,n);return"filters"===e?n[0]:!0}var d={removeFilter:a,applyFilters:i,addFilter:o,removeAction:n,doAction:t,addAction:e},c={actions:{},filters:{}};return d};return e.hooks=new t,e}(_inbound||{}),_inboundUtils=function(e){var t;return e.Utils={init:function(){this.polyFills(),this.checkLocalStorage(),this.SetUID(),this.getReferer()},polyFills:function(){window.console||(window.console={});for(var e=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],t=0;t<e.length;t++)window.console[e[t]]||(window.console[e[t]]=function(){});try{new CustomEvent("?")}catch(n){this.CustomEvent=function(e,t){function n(n,i){var a=document.createEvent(e);return null!==n?o.call(a,n,(i||(i=t)).bubbles,i.cancelable,i.detail):a.initCustomEvent=o,a}function o(t,n,o,i){this["init"+e](t,n,o,i),"detail"in this||(this.detail=i)}return n}(this.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}document.querySelectorAll||(document.querySelectorAll=function(e){var t,n=document.createElement("style"),o=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)t=document._qsa.shift(),t.style.removeAttribute("x-qsa"),o.push(t);return document._qsa=null,o}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null}),!("innerText"in document.createElement("a"))&&"getSelection"in window&&HTMLElement.prototype.__defineGetter__("innerText",function(){for(var e,t=window.getSelection(),n=[],o=0;o<t.rangeCount;o++)n[o]=t.getRangeAt(o);t.removeAllRanges(),t.selectAllChildren(this),e=t.toString(),t.removeAllRanges();for(var o=0;o<n.length;o++)t.addRange(n[o]);return e})},createCookie:function(e,t,n){var o="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toGMTString()}document.cookie=e+"="+t+o+"; path=/"},readCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},eraseCookie:function(e){createCookie(e,"",-1)},getAllCookies:function(){var t={};if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var i=n[o].split("=");i[0]=i[0].replace(/^ /,""),t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e.totalStorage("inbound_cookies",t),t},setUrlParams:function(){var n={};!function(){for(var e,t=function(e){return decodeURIComponent(e).replace(/\+/g," ")},o=window.location.search.substring(1),i=/([^&=]+)=?([^&]*)/g;e=i.exec(o);)if("-1"==e[1].indexOf("["))n[t(e[1])]=t(e[2]);else{var a=e[1].indexOf("["),r=e[1].slice(a+1,e[1].indexOf("]",a)),l=t(e[1].slice(0,a));"object"!=typeof n[l]&&(n[t(l)]={},n[t(l)].length=0),r?n[t(l)][t(r)]=t(e[2]):Array.prototype.push.call(n[t(l)],t(e[2]))}}();for(var o in n)if("object"==typeof n[o])for(var i in n[o])this.createCookie(i,n[o][i],30);else this.createCookie(o,n[o],30);if(t){var a=e.totalStorage("inbound_url_params")||{},r=this.mergeObjs(a,n);e.totalStorage("inbound_url_params",r)}e.Events.fireEvent("url_params",n,!0)},getAllUrlParams:function(){var n={};if(t)var n=e.totalStorage("inbound_url_params");return n},getParameterVal:function(e,t){return(RegExp(e+"=(.+?)(&|$)").exec(t)||[,!1])[1]},checkLocalStorage:function(){if("localStorage"in window)try{ls="undefined"==typeof window.localStorage?void 0:window.localStorage,t="undefined"==typeof ls||"undefined"==typeof window.JSON?!1:!0}catch(e){t=!1}return t},addDays:function(e,t){return new Date(e.getTime()+24*t*60*60*1e3)},GetDate:function(){var t=new Date,n=t.getDate()+1;year=t.getFullYear(),hour=t.getHours(),minutes=t.getMinutes(),seconds=t.getSeconds(),month=t.getMonth()+1,10>month&&(month="0"+month),e.debug("Current Date:",function(){console.log(year+"/"+month+"/"+n+" "+hour+":"+minutes+":"+seconds)});var o=year+"/"+month+"/"+n+" "+hour+":"+minutes+":"+seconds;return o},SetSessionTimeout:function(){var t=this.readCookie("lead_session_expire");null===t?e.Events.sessionStart():e.Events.sessionActive();var n=new Date;n.setTime(n.getTime()+18e5),this.createCookie("lead_session_expire",!0,n,!0);var o=this.readCookie("lead_data_expiration");if(null===o){var i=this.addDays(n,3);this.createCookie("lead_data_expiration",i,i,!0)}},getReferer:function(){var t=new Date;t.setTime(t.getTime()+18e5);var n=e.Utils.readCookie("wp_lead_referral_site");if("undefined"==typeof n||null===n||""===n){var o=document.referrer||"NA";this.createCookie("wp_lead_referral_site",o,t,!0)}},CreateUID:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),n="";e||(e=Math.floor(Math.random()*t.length));for(var o=0;e>o;o++)n+=t[Math.floor(Math.random()*t.length)];return n},SetUID:function(){if(null===this.readCookie("wp_lead_uid")){var t=this.CreateUID(35);this.createCookie("wp_lead_uid",t),e.debug("Set UID")}},countProperties:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&++t;return t},mergeObjs:function(e,t){var n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n},hasClass:function(e,t){var n=!1;if("classList"in document.documentElement)var n=t.classList.contains(e);else var n=new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className);return n},addClass:function(e,t){"classList"in document.documentElement?t.classList.add(e):this.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},removeClass:function(e,t){"classList"in document.documentElement?t.classList.remove(e):this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)*"+e+"(\\s|$)*","g"),""))},trim:function(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,"\n")},doAjax:function(t,n,o,i){var o=(wplft.admin_url||"",o||"POST"),t=t||null,a=t.action;e.debug("Ajax Processed:",function(){console.log("ran ajax action: "+a)}),window.jQuery&&jQuery.ajax({type:o,url:wplft.admin_url,data:t,success:n,error:function(t,n,o){console.log(t+" "+o+" "+n),e.Events.analyticsError(t,n,o)}})},ajaxPolyFill:function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var e,t=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],n=0;n<t.length;n++)try{e=new ActiveXObject(t[n]);break}catch(o){}return e},ajaxSendData:function(e,t,n,o,i){var a=this.ajaxPolyFill();a.open(n,e,i),a.onreadystatechange=function(){4==a.readyState&&t(a.responseText)},"POST"==n&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(o)},ajaxGet:function(e,t,n,o){var i=[];for(var a in t)i.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));this.ajaxSendData(e+"?"+i.join("&"),n,"GET",null,o)},ajaxPost:function(e,t,n,o){var i=[];for(var a in t)i.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));this.ajaxSendData(e,n,"POST",i.join("&"),o)},makeRequest:function(t,n){if(window.XMLHttpRequest)httpRequest=new XMLHttpRequest;else if(window.ActiveXObject)try{httpRequest=new ActiveXObject("Msxml2.XMLHTTP")}catch(o){try{httpRequest=new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}return httpRequest?(httpRequest.onreadystatechange=e.LeadsAPI.alertContents,httpRequest.open("GET",t),httpRequest.send(n),void 0):(alert("Giving up :( Cannot create an XMLHTTP instance"),!1)},domReady:function(e,t){var n=!1,o=!0,i=e.document,a=i.documentElement,r=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",s=i.addEventListener?"":"on",u=function(o){("readystatechange"!=o.type||"complete"==i.readyState)&&(("load"==o.type?e:i)[l](s+o.type,u,!1),!n&&(n=!0)&&t.call(e,o.type||o))},d=function(){try{a.doScroll("left")}catch(e){return setTimeout(d,50),void 0}u("poll")};if("complete"==i.readyState)t.call(e,"lazy");else{if(i.createEventObject&&a.doScroll){try{o=!e.frameElement}catch(c){}o&&d()}i[r](s+"DOMContentLoaded",u,!1),i[r](s+"readystatechange",u,!1),e[r](s+"load",u,!1)}},addListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeListener:function(e,t,n){console.log("test"),console.log(n),e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}},e}(_inbound||{}),InboundForms=function(e){var t=!1,n=e.Utils,o=[],a=[],r=[],l=e.Settings,s=["first name","last name","name","email","e-mail","phone","website","job title","your favorite food","company","tele","address","comment"];return e.Forms={init:function(){e.Forms.runFieldMappingFilters(),e.Forms.assignTrackClass(),e.Forms.formTrackInit()},runFieldMappingFilters:function(){s=e.hooks.applyFilters("forms.field_map",s)},debug:function(e,n){if(t&&console){var e=e||!1;e&&"string"==typeof e&&console.log(e),n&&n instanceof Function&&n()}},formTrackInit:function(){for(var e=0;e<window.document.forms.length;e++){var t=!1,n=window.document.forms[e];t=this.checkTrackStatus(n),t&&(this.attachFormSubmitEvent(n),this.initFormMapping(n))}},checkTrackStatus:function(e){var t=e.getAttribute("class");return""!==t&&null!==t?t.toLowerCase().indexOf("wpl-track-me")>-1?!0:t.toLowerCase().indexOf("inbound-track")>-1?!0:(console.log("No form to track on this page. Please assign on in settings"),!1):void 0},assignTrackClass:function(){if(window.inbound_track_include){var e=inbound_track_include.include.split(",");this.loopClassSelectors(e,"add")}if(window.inbound_track_exclude){var e=inbound_track_exclude.exclude.split(",");this.loopClassSelectors(e,"remove")}},loopClassSelectors:function(t,o){for(var i=t.length-1;i>=0;i--)selector=document.querySelector(n.trim(t[i])),selector&&("add"===o?(e.Utils.addClass("wpl-track-me",selector),e.Utils.addClass("inbound-track",selector)):(e.Utils.removeClass("wpl-track-me",selector),e.Utils.removeClass("inbound-track",selector)))},initFormMapping:function(e){for(var t=[],n=0;n<e.elements.length;n++)formInput=e.elements[n],"hidden"!==formInput.type?(this.mapField(formInput),this.rememberInputValues(formInput),l.formAutoPopulation&&this.fillInputValues(formInput)):t.push(formInput);for(var n=t.length-1;n>=0;n--)formInput=t[n],this.mapField(formInput)},formListener:function(t){console.log(t),t.preventDefault(),e.Forms.saveFormData(t.target)},attachFormSubmitEvent:function(e){n.addListener(e,"submit",this.formListener)},releaseFormSubmit:function(e){n.removeClass("wpl-track-me",e),n.removeListener(e,"submit",this.formListener),e.submit(),setTimeout(function(){for(var t=0;t<e.elements.length;t++)formInput=e.elements[t],type=formInput.type||!1,"submit"===type&&e.elements[t].click()},1e3)},saveFormData:function(t){for(var o=o||{},i=0;i<t.elements.length;i++)if(this.debug("inputs obj",function(){console.log(o)}),formInput=t.elements[i],multiple=!1,formInput.name){switch(inputName=formInput.name.replace(/\[([^\[]*)\]/g,"%5B%5D$1"),o[inputName]||(o[inputName]={}),formInput.type&&(o[inputName].type=formInput.type),o[inputName].name||(o[inputName].name=formInput.name),formInput.dataset.mapFormField&&(o[inputName].map=formInput.dataset.mapFormField),formInput.nodeName){case"INPUT":if(s=this.getInputValue(formInput),console.log(s),s===!1)continue;break;case"TEXTAREA":s=formInput.value;break;case"SELECT":if(formInput.multiple){values=[],multiple=!0;for(var l=0;l<formInput.length;l++)formInput[l].selected&&values.push(encodeURIComponent(formInput[l].value))}else s=formInput.value;console.log("select val",s)}if(s){o[inputName].value||(o[inputName].value=[]),o[inputName].value.push(multiple?values.join(","):encodeURIComponent(s));var s=multiple?values.join(","):encodeURIComponent(s)}}for(var u in o){var d=o[u].value,c=o[u].map;if("undefined"!=typeof d&&null!=d&&""!=d&&a.push(u+"="+o[u].value.join(",")),"undefined"!=typeof c&&null!=c&&o[u].value&&(r.push(c+"="+o[u].value.join(",")),"email"===u))var f=o[u].value.join(",")}var m=a.join("&");console.log("Stringified Raw Form PARAMS",m);var p=r.join("&");console.log("Stringified Mapped PARAMS",p);var f=n.getParameterVal("email",p)||n.readCookie("wp_lead_email"),g=n.getParameterVal("name",p),v=n.getParameterVal("first_name",p),_=n.getParameterVal("last_name",p);if(!_&&v){var h=decodeURI(v).split(" ");h.length>0&&(v=h[0],_=h[1])}if(g&&!_&&!v){var h=decodeURI(g).split(" ");h.length>0&&(v=h[0],_=h[1])}g=v&&_?v+" "+_:g,console.log(v),console.log(_),console.log(g);var b=e.totalStorage("page_views")||{},w=e.totalStorage("inbound_url_params")||{};if("undefined"!=typeof landing_path_info)var y=landing_path_info.variation;else if("undefined"!=typeof cta_path_info)var y=cta_path_info.variation;else var y=0;var k=inbound_settings.post_type||"page",S=inbound_settings.post_id||0;search_data={},formData={action:"inbound_lead_store",email:f,full_name:g,first_name:v,last_name:_,raw_params:m,mapped_params:p,url_params:JSON.stringify(w),search_data:"test",page_views:JSON.stringify(b),post_type:k,page_id:S,variation:y},callback=function(o){e.hooks.doAction("inbound_form_after_submission"),alert("callback fired"+o),n.createCookie("wp_lead_id",o),e.totalStorage.deleteItem("page_views"),e.totalStorage.deleteItem("tracking_events"),e.Forms.releaseFormSubmit(t),setTimeout(function(){for(var e=0;e<t.elements.length;e++)"submit"===t.elements[e]&&t.elements[e].click()},1e3)},e.trigger("inbound_form_before_submission",formData,!0),n.ajaxPost(landing_path_info.admin_url,formData,callback)},rememberInputValues:function(e){var t=(e.name?"inbound_"+e.name:"",e.type?e.type:"text");return"submit"===t||"hidden"===t||"file"===t||"password"===t?!1:(n.addListener(e,"change",function(e){if(e.target.name){if("checkbox"!==t)var o=e.target.value;else for(var i=[],a=document.querySelectorAll('input[name="'+e.target.name+'"]'),r=0;r<a.length;r++){var l=a[r].checked;l&&i.push(a[r].value),o=i.join(",")}console.log("change "+e.target.name+" "+encodeURIComponent(o)),n.createCookie("inbound_"+e.target.name,encodeURIComponent(o))}}),void 0)},fillInputValues:function(e){var t=e.name?"inbound_"+e.name:"",o=e.type?e.type:"text";if("submit"===o||"hidden"===o||"file"===o||"password"===o)return!1;if(n.readCookie(t)&&"comment"!=t)if(value=decodeURIComponent(n.readCookie(t)),"checkbox"===o||"radio"===o)for(var i=value.split(","),a=0;a<i.length;a++)e.value.indexOf(i[a])>-1&&(e.checked=!0);else"undefined"!==value&&(e.value=value)},mapField:function(e){var t=e.id||!1,a=e.name||!1;for(i=0;i<s.length;i++){var r=!1,l=s[i],u=n.trim(l),d=u.replace(/ /g,"_");if(this.debug("Names",function(){console.log("NICE NAME",d),console.log("looking for match on "+u)}),a&&a.toLowerCase().indexOf(u)>-1){var r=!0;this.debug("FOUND name attribute",function(){console.warn("FOUND name: "+u)})}else if(t&&t.toLowerCase().indexOf(u)>-1){var r=!0;this.debug("FOUND id:",function(){console.log("FOUND id: "+u)})}else if(label=this.siblingsIsLabel(e)){if(label[0].innerText.toLowerCase().indexOf(u)>-1){var r=!0;this.debug("Sibling matches single label",function(){console.log("FOUND label text: "+u)})}}else if(labelText=this.CheckParentForLabel(e)){if(this.debug("li labels found in form",function(){console.log(labelText)}),labelText.toLowerCase().indexOf(u)>-1)var r=!0}else this.debug("NO MATCH",function(){console.log("NO Match on "+u+" in "+a)}),o.push(u);r&&(this.addDataAttr(e,d),this.removeArrayItem(s,u),i--)}return inbound_data},getInputValue:function(e){var t=!1;switch(e.type){case"radio":case"checkbox":e.checked&&(t=e.value,console.log("CHECKBOX VAL",t));break;case"text":case"hidden":default:t=e.value}return t},addDataAttr:function(e,t){for(var n=document.getElementsByName(e.name),o=n.length-1;o>=0;o--)e.dataset.mapFormField||(n[o].dataset.mapFormField=t)},removeArrayItem:function(e,t){if(e.indexOf)index=e.indexOf(t);else for(index=e.length-1;index>=0&&e[index]!==t;--index);index>=0&&e.splice(index,1),console.log("removed "+t+" from array")},siblingsIsLabel:function(e){for(var t=this.getSiblings(e),n=[],o=t.length-1;o>=0;o--)"label"===t[o].nodeName.toLowerCase()&&n.push(t[o]);return n.length>0&&n.length<2?n:!1},getChildren:function(e,t){for(var n=[];e;e=e.nextSibling)1==e.nodeType&&e!=t&&n.push(e);return n},getSiblings:function(e){return this.getChildren(e.parentNode.firstChild,e)},CheckParentForLabel:function(e){if("FORM"===e.nodeName)return null;do{var t=e.getElementsByTagName("label");if(t.length>0&&t.length<2)return e.getElementsByTagName("label")[0].innerText}while(e=e.parentNode);return null}},e}(_inbound||{}),_inboundEvents=function(e){e.trigger=function(){alert("triggr")},e.add_action=function(){var t=arguments[0].split(" ");for(k in t)arguments[0]="inbound."+t[k],e.hooks.addAction.apply(this,arguments);return this},e.remove_action=function(){return arguments[0]="inbound."+arguments[0],e.hooks.removeAction.apply(this,arguments),this},e.do_action=function(){return arguments[0]="inbound."+arguments[0],e.hooks.doAction.apply(this,arguments),this},e.add_filter=function(){return arguments[0]="inbound."+arguments[0],e.hooks.addFilter.apply(this,arguments),this},e.remove_filter=function(){return arguments[0]="inbound."+arguments[0],e.hooks.removeFilter.apply(this,arguments),this},e.apply_filters=function(){return arguments[0]="inbound."+arguments[0],e.hooks.applyFilters.apply(this,arguments)};var t,n,o;return e.Events={loadEvents:function(){e.Events.fireEvent("inbound_analytics_loaded","test",!0)},fireEvent:function(t,n,o){var o=o||{},i=o.bubbles||!0,a=o.cancelable||!0,n=n||{},r=new CustomEvent(t,{detail:n,bubbles:i,cancelable:a});window.dispatchEvent(r),e.do_action(t,n),this.triggerJQueryEvent(t,n)},checkTypeofGA:function(){"function"==typeof ga&&(t=!0),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(n=!0),"undefined"!=typeof dataLayer&&"function"==typeof dataLayer.push&&(o=!0)},triggerJQueryEvent:function(e,t){if(window.jQuery){var t=t||{};jQuery(document).trigger(e,t)}},analyticsLoaded:function(){var e="inbound_analytics_loaded",t=new CustomEvent(e);window.dispatchEvent(t),this.triggerJQueryEvent(e)},analyticsTriggered:function(){var e=new CustomEvent("inbound_analytics_triggered");window.dispatchEvent(e)},analyticsSaved:function(){var t=new CustomEvent("inbound_analytics_saved");window.dispatchEvent(t),console.log("Page View Saved"),e.hooks.doAction("inbound.page_view")},analyticsError:function(e,t,n){var o=new CustomEvent("inbound_analytics_error",{detail:{MLHttpRequest:e,textStatus:t,errorThrown:n}});window.dispatchEvent(o),console.log("Page Save Error")},pageFirstView:function(){var e=new CustomEvent("inbound_analytics_page_first_view",{detail:{count:1,time:new Date},bubbles:!0,cancelable:!0});window.dispatchEvent(e),console.log("First Ever Page View of this Page")},pageRevisit:function(e){var t="inbound_analytics_page_revisit",n={count:e,time:new Date},o=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});window.dispatchEvent(o),this.triggerJQueryEvent(t,n),console.log("Page Revisit")},browserTabHidden:function(){var e="inbound_analytics_tab_hidden",t=new CustomEvent(e);window.dispatchEvent(t),console.log("Tab Hidden"),this.triggerJQueryEvent(e)},browserTabVisible:function(){var e="inbound_analytics_tab_visible",t=new CustomEvent(e);window.dispatchEvent(t),console.log("Tab Visible"),this.triggerJQueryEvent(e)},sessionStart:function(){var e=new CustomEvent("inbound_analytics_session_start");window.dispatchEvent(e),console.log("Session Start")},sessionActive:function(){var e=new CustomEvent("inbound_analytics_session_active");window.dispatchEvent(e),console.log("Session Active")}},e}(_inbound||{}),InboundTotalStorage=function(e){var t,n,o="_inbound";if("localStorage"in window)try{n="undefined"==typeof window.localStorage?void 0:window.localStorage,t="undefined"==typeof n||"undefined"==typeof window.JSON?!1:!0,window.localStorage.setItem(o,"1"),window.localStorage.removeItem(o)}catch(i){t=!1}e.totalStorage=function(t,n){return e.totalStorage.impl.init(t,n)},e.totalStorage.setItem=function(t,n){return e.totalStorage.impl.setItem(t,n)},e.totalStorage.getItem=function(t){return e.totalStorage.impl.getItem(t)},e.totalStorage.getAll=function(){return e.totalStorage.impl.getAll()},e.totalStorage.deleteItem=function(t){return e.totalStorage.impl.deleteItem(t)},e.totalStorage.impl={init:function(e,t){return"undefined"!=typeof t?this.setItem(e,t):this.getItem(e)},setItem:function(o,i){if(!t)try{return e.Utils.createCookie(o,i),i}catch(a){console.log("Local Storage not supported by this browser. Install the cookie plugin on your site to take advantage of the same functionality. You can get it at https://github.com/carhartl/jquery-cookie")}var r=JSON.stringify(i);return n.setItem(o,r),this.parseResult(r)},getItem:function(o){if(!t)try{return this.parseResult(e.Utils.readCookie(o))}catch(i){return null}var a=n.getItem(o);return this.parseResult(a)},deleteItem:function(o){if(!t)try{return e.Utils.eraseCookie(o,null),!0}catch(i){return!1}return n.removeItem(o),!0},getAll:function(){var o=[];if(t)for(var i in n)i.length&&o.push({key:i,value:this.parseResult(n.getItem(i))});else try{for(var a=document.cookie.split(";"),r=0;r<a.length;r++){var l=a[r].split("="),s=l[0];o.push({key:s,value:this.parseResult(e.Utils.readCookie(s))})}}catch(u){return null}return o},parseResult:function(e){var t;try{t=JSON.parse(e),"undefined"==typeof t&&(t=e),"true"==t&&(t=!0),"false"==t&&(t=!1),parseFloat(t)==t&&"object"!=typeof t&&(t=parseFloat(t))}catch(n){t=e}return t}}}(_inbound||{}),_inboundLeadsAPI=function(e){return e.LeadsAPI={init:function(){},storeLeadData:function(){element.addEventListener?element.addEventListener("submit",function(e){e.preventDefault(),window.history.back()},!0):element.attachEvent("onsubmit",function(e){e.preventDefault(),window.history.back()})},getAllLeadData:function(t){var n=e.Utils.readCookie("wp_lead_id"),o=e.totalStorage("inbound_lead_data"),i={action:"inbound_get_all_lead_data",wp_lead_id:n},a=function(t){var n=JSON.parse(t);console.log("Got all the lead data check "),setGlobalLeadVar(n),e.totalStorage("inbound_lead_data",n)};if(o||console.log("No old data"),"true"===t&&console.log("Session has not expired"),o||null!==t){setGlobalLeadVar(o);var r=e.Utils.readCookie("lead_data_expiration");null===r&&(e.Utils.doAjax(i,a),console.log("localized data old. Pull new from DB"))}else e.debug("Go to Database",function(){console.log(t),console.log(o)}),e.Utils.doAjax(i,a)},getLeadLists:function(){var t=e.Utils.readCookie("wp_lead_id"),n={action:"wpl_check_lists",wp_lead_id:t},o=function(){e.Utils.createCookie("lead_session_list_check",!0,{path:"/",expires:1}),console.log("Lists checked")};e.Utils.doAjax(n,o)}},e}(_inbound||{}),_inboundPageTracking=function(e){return e.PageTracking={getPageViews:function(){var t=e.Utils.checkLocalStorage();if(t){var n=localStorage.getItem("page_views"),o=JSON.parse(n);return"object"==typeof o&&o&&this.StorePageView(),o}},StorePageView:function(){var t,n=this.CheckTimeOut(),o=e.totalStorage("page_views");null===o&&(o={});var i=wplft.post_id,a=e.Utils.GetDate();if(n){var r=o[i];"undefined"!=typeof r&&null!==r?(o[i].push(a),t=o[i].length,e.Events.pageRevisit(t)):(o[i]=[],o[i].push(a),t=1,e.Events.pageFirstView(t)),e.totalStorage("page_views",o)}},CheckTimeOut:function(){var t=e.totalStorage("page_views")||{},n=wplft.post_id,o=!0,i=t[n];if("undefined"!=typeof i&&null!==i){var a=e.Utils.GetDate(),r=t[n].length-1,l=t[n][r],s=new Date(l).getTime(),u=new Date(a).getTime(),d=Math.abs(s-u),c=e.Settings.timeout||3e4;if(e.debug("Timeout Checks =",function(){console.log("Current Time is: "+a),console.log("Last view is: "+l),console.log("Last view milliseconds "+s),console.log("time now milliseconds "+u),console.log("Wait Check: "+c),console.log("TIME CHECK: "+d)}),c>d){time_left=.001*Math.abs(c-d),o=!1;var f=c/1e3+" sec timeout not done: "+time_left+" seconds left"}else{var f="Timeout Happened. Page view fired";this.firePageView(),o=!0,e.Events.analyticsTriggered()}console.log(f)}else this.firePageView();return o},firePageView:function(){var t=e.Utils.readCookie("wp_lead_id"),n=e.Utils.readCookie("wp_lead_uid");if("undefined"!=typeof t&&null!==t&&""!==t){e.debug("Run page view ajax");var o={action:"wpl_track_user",wp_lead_uid:n,wp_lead_id:t,page_id:wplft.post_id,current_url:window.location.href,json:"0"},i=function(){e.Events.analyticsSaved()};e.Utils.doAjax(o,i)}},tabSwitch:function(){var t,n,o;"undefined"!=typeof document.hidden?(t="hidden",o="visibilitychange",n="visibilityState"):"undefined"!=typeof document.mozHidden?(t="mozHidden",o="mozvisibilitychange",n="mozVisibilityState"):"undefined"!=typeof document.msHidden?(t="msHidden",o="msvisibilitychange",n="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(t="webkitHidden",o="webkitvisibilitychange",n="webkitVisibilityState");var i=document[t];e.Utils.addListener(document,o,function(){i!=document[t]&&(document[t]?(console.log("hidden"),e.Events.browserTabHidden()):(console.log("shown"),e.Events.browserTabVisible()),i=document[t])})}},e}(_inbound||{});window.jQuery&&jQuery(document).on("inbound_analytics_loaded",function(){alert("inbound_analytics_loaded"),console.log("inbound_analytics_loaded")});var Inbound_Add_Filter_Example=function(e){console.log("filter ran");var t=e||[];return t.push("tehdhshs"),t},Inbound_Add_Action_Example=function(){console.log("callback triggered")};_inbound.add_action("namespace.identifier",Inbound_Add_Action_Example,10),_inbound.add_action("inbound_form_before_submission",alert_form_data,10),window.addEventListener("inbound_form_before_submission",raw_js_trigger,!1),window.jQuery&&jQuery(document).on("inbound_form_before_submission",function(){console.log("inbound_form_before_submission action triggered"),alert("Run jQuery inbound_form_before_submission trigger")}),_inbound.hooks.addAction("inbound_form_submission",DOIT,10),_inbound.init();var InboundLeadData=_inbound.totalStorage("inbound_lead_data")||null;_inbound.Utils.domReady(window,function(){_inbound.hooks.addFilter("inbound.form_map_before",Inbound_Add_Filter_Example,10),_inbound.DomLoaded(),_inbound.do_action("namespace.identifier");var e=_inbound.Utils,t=(e.readCookie("wp_lead_uid"),e.readCookie("wp_lead_id")),n=e.readCookie("lead_session_expire");null===n&&(console.log("expired vistor. Run Processes"),"undefined"!=typeof t&&null!==t&&""!==t&&(_inbound.LeadsAPI.getAllLeadData(n),_inbound.LeadsAPI.getLeadLists())),e.SetSessionTimeout()}),window.actionValue="",_inbound.hooks.addAction("inbound.page_view",action_a),window.jQuery&&jQuery(document).ready(function(){console.log("doing action"),_inbound.hooks.doAction("test.action"),console.log(window.actionValue)}),_inbound.add_action("url_params",URL_Param_Function,10),_inbound.add_filter("urlParamFilter",URL_Param_Filter,10);